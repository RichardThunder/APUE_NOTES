apue-code/08/streamread.c